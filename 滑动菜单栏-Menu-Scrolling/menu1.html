<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>æ»‘åŠ¨èœå•æ </title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Arial", sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        background-color: #f5f5f5;
      }
      .menu-item {
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
      }

      .container {
        width: 100%;
        max-width: 800px;
        background-color: white;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        padding: 24px;
      }

      h1 {
        text-align: center;
        margin-bottom: 24px;
        color: #333;
      }

      .menu-wrapper {
        position: relative;
        overflow: hidden;
      }

      .menu-container {
        display: flex;
        overflow-x: hidden;
        scroll-behavior: smooth;
        padding: 16px 0;
      }

      .menu-items {
        display: flex;
        gap: 16px;
        padding: 0 40px;
      }

      .menu-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        min-width: 100px;
        padding: 12px;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .menu-item:hover {
        background-color: #f0f0f0;
        transform: translateY(-5px);
      }

      .menu-item.active {
        background-color: #e6f7ff;
      }

      .icon-wrapper {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 48px;
        height: 48px;
        border-radius: 50%;
        background-color: #f0f0f0;
        margin-bottom: 8px;
        color: #1677ff;
      }

      .menu-item:hover .icon-wrapper {
        background-color: #e6f7ff;
      }

      .menu-item-label {
        font-size: 14px;
        font-weight: 500;
        color: #333;
      }

      .nav-button {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        width: 36px;
        height: 36px;
        border-radius: 50%;
        background-color: white;
        border: none;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        cursor: pointer;
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 10;
        transition: all 0.2s ease;
      }

      .nav-button:hover {
        background-color: #f5f5f5;
      }

      .nav-button:focus {
        outline: none;
      }

      .nav-button.left {
        left: 5px;
      }

      .nav-button.right {
        right: 5px;
      }

      .nav-button.hidden {
        display: none;
      }

      /* åŠ¨ç”»æ•ˆæœ */
      @keyframes bounce {
        0%,
        20%,
        50%,
        80%,
        100% {
          transform: translateY(0);
        }
        40% {
          transform: translateY(-10px);
        }
        60% {
          transform: translateY(-5px);
        }
      }

      .menu-item:active .icon-wrapper {
        animation: bounce 0.5s;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>æ»‘åŠ¨èœå•æ </h1>
      <div class="menu-wrapper">
        <button class="nav-button left hidden" id="leftBtn">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <polyline points="15 18 9 12 15 6"></polyline>
          </svg>
        </button>

        <div class="menu-container" id="menuContainer">
          <div class="menu-items" id="menuItems">
            <!-- èœå•é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
          </div>
        </div>

        <button class="nav-button right" id="rightBtn">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <polyline points="9 18 15 12 9 6"></polyline>
          </svg>
        </button>
      </div>
    </div>

    <script>
      // èœå•é¡¹æ•°æ®
      const menuData = [
        { id: 1, icon: "ğŸ“·", label: "ç›¸æœº" },
        { id: 2, icon: "ğŸ–¼ï¸", label: "å›¾ç‰‡" },
        { id: 3, icon: "ğŸ“„", label: "æ–‡æ¡£" },
        { id: 4, icon: "ğŸµ", label: "éŸ³ä¹" },
        { id: 5, icon: "ğŸ¬", label: "è§†é¢‘" },
        { id: 6, icon: "ğŸ“…", label: "æ—¥å†" },
        { id: 7, icon: "ğŸ—ºï¸", label: "åœ°å›¾" },
        { id: 8, icon: "âš™ï¸", label: "è®¾ç½®" },
        { id: 9, icon: "ğŸ›’", label: "è´­ç‰©" },
        { id: 10, icon: "ğŸ§­", label: "å¯¼èˆª" },
        { id: 11, icon: "ğŸ¨", label: "ç»˜ç”»" },
        { id: 12, icon: "â˜•", label: "å’–å•¡" },
      ];

      // è·å–DOMå…ƒç´ 
      const menuContainer = document.getElementById("menuContainer");
      const menuItems = document.getElementById("menuItems");
      const leftBtn = document.getElementById("leftBtn");
      const rightBtn = document.getElementById("rightBtn");

      // ç”Ÿæˆèœå•é¡¹
      function renderMenuItems() {
        menuItems.innerHTML = "";

        menuData.forEach((item) => {
          const menuItem = document.createElement("div");
          menuItem.className = "menu-item";
          menuItem.setAttribute("data-id", item.id);

          const iconWrapper = document.createElement("div");
          iconWrapper.className = "icon-wrapper";
          iconWrapper.textContent = item.icon;

          const label = document.createElement("span");
          label.className = "menu-item-label";
          label.textContent = item.label;

          menuItem.appendChild(iconWrapper);
          menuItem.appendChild(label);

          // æ·»åŠ ç‚¹å‡»äº‹ä»¶
          menuItem.addEventListener("click", () => {
            // ç§»é™¤æ‰€æœ‰activeç±»
            document.querySelectorAll(".menu-item").forEach((el) => {
              el.classList.remove("active");
            });

            // æ·»åŠ activeç±»åˆ°å½“å‰é¡¹
            menuItem.classList.add("active");

            // è¿™é‡Œå¯ä»¥æ·»åŠ å…¶ä»–ç‚¹å‡»åçš„é€»è¾‘
            console.log(`é€‰æ‹©äº†: ${item.label}`);
          });

          menuItems.appendChild(menuItem);
        });
      }

      // åˆå§‹åŒ–èœå•
      renderMenuItems();

      // æ»šåŠ¨ç›¸å…³å˜é‡
      let scrollAmount = 0;
      const scrollStep = 300; // æ¯æ¬¡æ»šåŠ¨çš„è·ç¦»

      // æ£€æŸ¥æ»šåŠ¨æŒ‰é’®æ˜¾ç¤ºçŠ¶æ€
      function checkScrollButtons() {
        leftBtn.classList.toggle("hidden", scrollAmount <= 0);
        rightBtn.classList.toggle(
          "hidden",
          scrollAmount >= menuItems.scrollWidth - menuContainer.clientWidth
        );
      }

      // åˆå§‹æ£€æŸ¥
      checkScrollButtons();

      // å‘å·¦æ»šåŠ¨
      leftBtn.addEventListener("click", () => {
        scrollAmount = Math.max(0, scrollAmount - scrollStep);
        menuContainer.scrollTo({
          left: scrollAmount,
          behavior: "smooth",
        });

        setTimeout(checkScrollButtons, 300);
      });

      // å‘å³æ»šåŠ¨
      rightBtn.addEventListener("click", () => {
        scrollAmount = Math.min(
          menuItems.scrollWidth - menuContainer.clientWidth,
          scrollAmount + scrollStep
        );
        menuContainer.scrollTo({
          left: scrollAmount,
          behavior: "smooth",
        });

        setTimeout(checkScrollButtons, 300);
      });

      // ç›‘å¬æ»šåŠ¨äº‹ä»¶
      menuContainer.addEventListener("scroll", () => {
        scrollAmount = menuContainer.scrollLeft;
        checkScrollButtons();
      });

      // ç›‘å¬çª—å£å¤§å°å˜åŒ–
      window.addEventListener("resize", checkScrollButtons);

      // æ·»åŠ è§¦æ‘¸æ»‘åŠ¨æ”¯æŒ
      let touchStartX = 0;
      let touchEndX = 0;

      menuContainer.addEventListener(
        "touchstart",
        (e) => {
          touchStartX = e.changedTouches[0].screenX;
        },
        false
      );

      menuContainer.addEventListener(
        "touchend",
        (e) => {
          touchEndX = e.changedTouches[0].screenX;
          handleSwipe();
        },
        false
      );

      function handleSwipe() {
        const swipeDistance = touchStartX - touchEndX;

        if (Math.abs(swipeDistance) > 50) {
          // æœ€å°æ»‘åŠ¨è·ç¦»
          if (swipeDistance > 0) {
            // å‘å·¦æ»‘åŠ¨ï¼Œå†…å®¹å‘å³ç§»åŠ¨
            rightBtn.click();
          } else {
            // å‘å³æ»‘åŠ¨ï¼Œå†…å®¹å‘å·¦ç§»åŠ¨
            leftBtn.click();
          }
        }
      }

      let isMouseDown = false;
      let startX, scrollLeft;

      menuContainer.addEventListener("mousedown", (e) => {
        isMouseDown = true;
        menuContainer.classList.add("active"); // å¯ç”¨äºåŠ ä¸Šæ ·å¼ï¼Œå¦‚æ”¹å˜é¼ æ ‡æ ·å¼
        startX = e.pageX - menuContainer.offsetLeft;
        scrollLeft = menuContainer.scrollLeft;
      });

      menuContainer.addEventListener("mouseleave", () => {
        isMouseDown = false;
        menuContainer.classList.remove("active");
      });

      menuContainer.addEventListener("mouseup", () => {
        isMouseDown = false;
        menuContainer.classList.remove("active");
      });

      menuContainer.addEventListener("mousemove", (e) => {
        if (!isMouseDown) return;
        e.preventDefault();
        const x = e.pageX - menuContainer.offsetLeft;
        const walk = (x - startX) * 2; // ä¹˜2å¯ä»¥åŠ å¿«æ»‘åŠ¨é€Ÿåº¦
        menuContainer.scrollLeft = scrollLeft - walk;
      });
    </script>
  </body>
</html>
